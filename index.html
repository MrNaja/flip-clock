<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width">
    <title>Flip Clock</title>

    <link rel="stylesheet" href="./flip/flip.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

</head>
<body ondblclick="toggleFullscreen()" onmousemove="showCursor()" onload="initCursorHider()">

<!-- START OF FLIP CLOCK -->

<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background: radial-gradient(circle, #444 0%, #222 100%);
        color: #ffffff;
    }
    
    .tick {
        padding-bottom: 0;
        font-size: 10vw;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        font-weight: bold;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    
    .tick-label {
        font-size:.375em;
        text-align:center;
        display: inline-block;
        margin: 0 0.25em;
    }

    .tick-group {
        display: flex;
        flex-direction: row;
        align-items: center;
        justify-content: center;
        margin: 0 .25em;
        text-align: center;
    }
    
    [data-view="flip"] {
        display: inline-block;
        margin: 0 8px;
    }
    
    /* 隐藏版权标识 */
    .tick-credits {
        display: none !important;
    }
    
    /* 修改数字为黑色，翻页背景为白色 */
    .tick-flip-panel {
        color: #000 !important;
        background-color: #fff !important;
    }
    
    .tick-flip-front {
        color: #000 !important;
        background-color: #fff !important;
    }
    
    .tick-flip-back {
        color: #000 !important;
        background-color: #fff !important;
    }
    
    /* 秒数显示切换图标样式 */
    .toggle-seconds-icon {
        position: fixed;
        right: 20px;
        bottom: 20px;
        color: rgb(78, 77, 77);
        cursor: pointer;
        z-index: 1000;
        font-size: 18px;
        transition: opacity 0.3s;
    }
    
    .toggle-seconds-icon:hover {
        opacity: 0.7;
    }
    
    /* 隐藏秒数时的样式 */
    .hide-seconds .tick-group:last-child {
        display: none;
    }
    
    /* 隐藏秒数时，增大时钟组件 */
    .hide-seconds .tick {
        font-size: 15vw;
    }
</style>

<div class="tick"
     data-did-init="handleTickInit">

    <div data-layout="horizontal center fit">

        <div class="tick-group">
            <div data-key="hour1"
                 data-repeat="true"
                 data-transform="pad(0) -> split -> delay">
                <span data-view="flip"></span>
            </div>
            <div data-key="hour2"
                 data-repeat="true"
                 data-transform="pad(0) -> split -> delay">
                <span data-view="flip"></span>
            </div>
        </div>

        <div class="tick-group">
            <div data-key="min1"
                 data-repeat="true"
                 data-transform="pad(0) -> split -> delay">
                <span data-view="flip"></span>
            </div>
            <div data-key="min2"
                 data-repeat="true"
                 data-transform="pad(0) -> split -> delay">
                <span data-view="flip"></span>
            </div>
        </div>

        <div class="tick-group">
            <div data-key="sec1"
                 data-repeat="true"
                 data-transform="pad(0) -> split -> delay">
                <span data-view="flip"></span>
            </div>
            <div data-key="sec2"
                 data-repeat="true"
                 data-transform="pad(0) -> split -> delay">
                <span data-view="flip"></span>
            </div>
        </div>

    </div>

</div>

<!-- 秒数显示切换图标 -->
<div id="toggleSeconds" class="toggle-seconds-icon" onclick="toggleSecondsDisplay()">
    <i class="fas fa-eye"></i>
</div>

<script>
    var cursorTimeout;
    
    function initCursorHider() {
        document.body.style.cursor = 'default';
    }
    
    function showCursor() {
        document.body.style.cursor = 'default';
        
        // 清除之前的定时器
        if (cursorTimeout) {
            clearTimeout(cursorTimeout);
        }
        
        // 设置1秒后隐藏鼠标
        cursorTimeout = setTimeout(function() {
            document.body.style.cursor = 'none';
        }, 1000);
    }
    
    function toggleFullscreen() {
        if (!document.fullscreenElement && 
            !document.mozFullScreenElement && 
            !document.webkitFullscreenElement && 
            !document.msFullscreenElement) {
            // 进入全屏
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen();
            } else if (document.documentElement.msRequestFullscreen) {
                document.documentElement.msRequestFullscreen();
            } else if (document.documentElement.mozRequestFullScreen) {
                document.documentElement.mozRequestFullScreen();
            } else if (document.documentElement.webkitRequestFullscreen) {
                document.documentElement.webkitRequestFullscreen();
            }
        } else {
            // 退出全屏
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            }
        }
    }
    
    function toggleSecondsDisplay() {
        document.body.classList.toggle('hide-seconds');
    }
    
    function handleTickInit(tick) {
        
        // Update the clock every second
        setInterval(function() {
            var now = new Date();
            
            var hours = now.getHours();
            var minutes = now.getMinutes();
            var seconds = now.getSeconds();
            
            // Split hours, minutes, and seconds into individual digits
            var hour1 = Math.floor(hours / 10);
            var hour2 = hours % 10;
            
            var min1 = Math.floor(minutes / 10);
            var min2 = minutes % 10;
            
            var sec1 = Math.floor(seconds / 10);
            var sec2 = seconds % 10;
            
            // Update the tick values
            tick.value = {
                hour1: hour1,
                hour2: hour2,
                min1: min1,
                min2: min2,
                sec1: sec1,
                sec2: sec2
            };
        }, 1000);
        
        // Initialize the clock immediately
        var now = new Date();
        
        var hours = now.getHours();
        var minutes = now.getMinutes();
        var seconds = now.getSeconds();
        
        // Split hours, minutes, and seconds into individual digits
        var hour1 = Math.floor(hours / 10);
        var hour2 = hours % 10;
        
        var min1 = Math.floor(minutes / 10);
        var min2 = minutes % 10;
        
        var sec1 = Math.floor(seconds / 10);
        var sec2 = seconds % 10;
        
        // Initialize the tick values
        tick.value = {
            hour1: hour1,
            hour2: hour2,
            min1: min1,
            min2: min2,
            sec1: sec1,
            sec2: sec2
        };
    }
</script>

<!-- END OF FLIP CLOCK -->

<script src="./flip/flip.min.js"></script>

</body>
</html>